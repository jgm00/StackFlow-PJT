<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>상품 수정</title>
    <style>
        .form-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .form-row label {
            width: 150px;
        }

        .form-row input,
        .form-row select {
            margin-left: 10px;
        }
    </style>
</head>
<body>
<h1>상품 수정</h1>

<form action="#" th:action="@{/product/update/{id}(id=${product.id})}" method="post">
    <input type="hidden" name="id" th:value="${product.id}" />

    <div class="form-row">
        <label for="prodName">상품명:</label>
        <input type="text" id="prodName" name="prodName" th:value="${product.prodName}" required />
    </div>

    <div class="form-row">
        <label for="prodCode">상품 코드:</label>
        <input type="text" id="prodCode" name="prodCode" th:value="${product.prodCode}" required />
    </div>

    <div class="form-row">
        <label for="categorygroup">카테고리 그룹:</label>
        <select name="categorygroup" id="categorygroup" required>
            <option value="">카테고리 그룹 선택</option>
            <option th:each="categoryGroup : ${categoryGroups}"
                    th:value="${categoryGroup.groupName}"
                    th:selected="${product.cateGroup != null and categoryGroup.groupName == product.cateGroup.groupName}"
                    th:text="${categoryGroup.groupName}">
            </option>
        </select>
    </div>
    <span th::text="${categoryGroup}"></span>
    <span th::text="${product}"></span>

    <div class="form-row">
        <label for="categoryCode">카테고리 코드:</label>
        <select name="categoryCode" id="categoryCode" required>
            <option value="">카테고리 코드 선택</option>
            <option th:each="category : ${categories}"
                    th:value="${category.cateCode}"
                    th:selected="${product.prodCate != null and category.cateCode == product.prodCate.cateCode}"
                    th:text="${category.cateCode}">
            </option>
        </select>
    </div>

    <div class="form-row">
        <label for="colorCode">색상 코드:</label>
        <select name="colorCode" id="colorCode" required>
            <option value="">색상 선택</option>
            <option th:each="color : ${colors}"
                    th:value="${color}"
                    th:selected="${product.colorCode != null and color == product.colorCode.colorCode}"
                    th:text="${color}">
            </option>
        </select>
    </div>

    <div class="form-row">
        <label for="size">사이즈:</label>
        <select name="size" id="size" required>
            <option value="">사이즈 선택</option>
            <option th:each="size : ${sizes}"
                    th:value="${size}"
                    th:selected="${product.size != null and size == product.size.size}"
                    th:text="${size}">
            </option>
        </select>
    </div>

    <div class="form-row">
        <label for="stockPrice">입고 가격:</label>
        <input type="number" id="stockPrice" name="stockPrice" th:value="${product.stockPrice}" required />
    </div>

    <div class="form-row">
        <label for="stockQuantity">입고 수량:</label>
        <input type="number" id="stockQuantity" name="stockQuantity" th:value="${product.stockQuantity}" required />
    </div>

    <div class="form-row">
        <label for="sellPrice">출고 가격:</label>
        <input type="number" id="sellPrice" name="sellPrice" th:value="${product.sellPrice}" required />
    </div>

    <div class="form-row">
        <label for="prodDetail">상세 설명:</label>
        <input type="text" id="prodDetail" name="prodDetail" th:value="${product.prodDetail}"required />
    </div>

    <div class="form-row">
        <button type="submit">수정 저장</button>
    </div>
</form>
</body>
</html>
