{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { useConfig } from \".\";\nimport useToken from \"./tokenManage\";\nconst initialState = {\n  userInput: {\n    categoryGroup: \"\",\n    categoryCode: \"\",\n    colorCode: \"\",\n    size: \"\",\n    input: \"\"\n  },\n  selectOptions: []\n};\nconst filterSlice = createSlice({\n  name: \"filter\",\n  initialState,\n  reducers: {\n    setUserInput: (state, action) => {\n      state.userInput = {\n        ...state.userInput,\n        ...action.payload\n      };\n    },\n    setSelectOptions: (state, action) => {\n      state.selectOptions = action.payload;\n    }\n  }\n});\nexport const {\n  setUserInput,\n  setSelectOptions\n} = filterSlice.actions;\nexport const fetchSelectOptions = () => {\n  var _s = $RefreshSig$();\n  return _s(async (dispatch, getState) => {\n    _s();\n    const {\n      getToken\n    } = useToken();\n    const csrfToken = getToken(); // 토큰 값\n    const {\n      BASE_URL\n    } = useConfig(); // 기본 URL\n    try {\n      const response = await axios.get(`${BASE_URL}/api/rt/all`, {\n        withCredentials: true,\n        headers: {\n          \"X-CSRF-TOKEN\": csrfToken\n        }\n      });\n      dispatch(setSelectOptions(response.data)); // 데이터 저장\n    } catch (err) {\n      console.error(\"Error fetching select options:\", err);\n    }\n  }, \"+pqOK+QZWLHBFAgHnyJRAe8XEWE=\", false, function () {\n    return [useToken, useConfig];\n  });\n};\nexport default filterSlice.reducer;","map":{"version":3,"names":["createSlice","axios","useConfig","useToken","initialState","userInput","categoryGroup","categoryCode","colorCode","size","input","selectOptions","filterSlice","name","reducers","setUserInput","state","action","payload","setSelectOptions","actions","fetchSelectOptions","_s","$RefreshSig$","dispatch","getState","getToken","csrfToken","BASE_URL","response","get","withCredentials","headers","data","err","console","error","reducer"],"sources":["/Users/seohyeonseog/Desktop/Seo-Hyunseok/Project/StackFlow-PJT/FRONT/stackflow/src/store/filterSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { useConfig } from \".\";\nimport useToken from \"./tokenManage\";\n\nconst initialState = {\n  userInput: {\n    categoryGroup: \"\",\n    categoryCode: \"\",\n    colorCode: \"\",\n    size: \"\",\n    input: \"\",\n  },\n  selectOptions: [],\n};\n\nconst filterSlice = createSlice({\n  name: \"filter\",\n  initialState,\n  reducers: {\n    setUserInput: (state, action) => {\n      state.userInput = { ...state.userInput, ...action.payload };\n    },\n    setSelectOptions: (state, action) => {\n      state.selectOptions = action.payload;\n    },\n  },\n});\n\nexport const { setUserInput, setSelectOptions } = filterSlice.actions;\n\nexport const fetchSelectOptions = () => async (dispatch, getState) => {\n  const {getToken} = useToken()  \n  const csrfToken = getToken()  // 토큰 값\n  const { BASE_URL } = useConfig()  // 기본 URL\n  try {\n    const response = await axios.get(`${BASE_URL}/api/rt/all`, {\n      withCredentials: true,\n      headers: {\n        \"X-CSRF-TOKEN\": csrfToken,\n      },\n    });\n    dispatch(setSelectOptions(response.data)); // 데이터 저장\n  } catch (err) {\n    console.error(\"Error fetching select options:\", err);\n  }\n};\n\nexport default filterSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,GAAG;AAC7B,OAAOC,QAAQ,MAAM,eAAe;AAEpC,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE;IACTC,aAAa,EAAE,EAAE;IACjBC,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE,EAAE;IACbC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE;EACT,CAAC;EACDC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,WAAW,GAAGZ,WAAW,CAAC;EAC9Ba,IAAI,EAAE,QAAQ;EACdT,YAAY;EACZU,QAAQ,EAAE;IACRC,YAAY,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC/BD,KAAK,CAACX,SAAS,GAAG;QAAE,GAAGW,KAAK,CAACX,SAAS;QAAE,GAAGY,MAAM,CAACC;MAAQ,CAAC;IAC7D,CAAC;IACDC,gBAAgB,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MACnCD,KAAK,CAACL,aAAa,GAAGM,MAAM,CAACC,OAAO;IACtC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,YAAY;EAAEI;AAAiB,CAAC,GAAGP,WAAW,CAACQ,OAAO;AAErE,OAAO,MAAMC,kBAAkB,GAAGA,CAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAAA,OAAAD,EAAA,CAAM,OAAOE,QAAQ,EAAEC,QAAQ,KAAK;IAAAH,EAAA;IACpE,MAAM;MAACI;IAAQ,CAAC,GAAGvB,QAAQ,CAAC,CAAC;IAC7B,MAAMwB,SAAS,GAAGD,QAAQ,CAAC,CAAC,EAAE;IAC9B,MAAM;MAAEE;IAAS,CAAC,GAAG1B,SAAS,CAAC,CAAC,EAAE;IAClC,IAAI;MACF,MAAM2B,QAAQ,GAAG,MAAM5B,KAAK,CAAC6B,GAAG,CAAC,GAAGF,QAAQ,aAAa,EAAE;QACzDG,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE;UACP,cAAc,EAAEL;QAClB;MACF,CAAC,CAAC;MACFH,QAAQ,CAACL,gBAAgB,CAACU,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7C,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEF,GAAG,CAAC;IACtD;EACF,CAAC;IAAA,QAdoB/B,QAAQ,EAEND,SAAS;EAAA;AAAA,CAY/B;AAED,eAAeU,WAAW,CAACyB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}